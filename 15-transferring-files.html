<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>ARCHER2 Introduction to HPC Software Carpentry: Transferring files with remote computers</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav incubator"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Carpentries Incubator" src="assets/images/incubator-logo.svg"><abbr class="badge badge-light" title="This lesson is in the beta phase, which means that it is ready for teaching by instructors outside of the original author team." style="background-color: #001483; border-radius: 5px">
          <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#polishing-beta-stage" class="external-link alert-link" style="color: #FFF7F1">
            <i aria-hidden="true" class="icon" data-feather="alert-circle" style="border-radius: 5px"></i>
            Beta
          </a>
          <span class="visually-hidden">This lesson is in the beta phase, which means that it is ready for teaching by instructors outside of the original author team.</span>
        </abbr>
        
      </div>
    </div>
    <div class="selector-container">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/15-transferring-files.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      ARCHER2 Introduction to HPC Software Carpentry
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            ARCHER2 Introduction to HPC Software Carpentry
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  ARCHER2 Introduction to HPC Software Carpentry
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 67%" class="percentage">
    67%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 67%" aria-valuenow="67" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/15-transferring-files.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->
      
            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="11-hpc-intro.html">1. Why use an HPC System?</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="12-cluster.html">2. Working on a remote HPC system</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="13-scheduler.html">3. Working with the scheduler</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="14-modules.html">4. Accessing software via Modules</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        5. Transferring files with remote computers
        </span>
      </button>
    </div><!--/div.accordion-header-->
        
    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#download-files-from-the-internet">Download Files From the Internet</a></li>
<li><a href="#transferring-single-files-and-folders-with-scp">Transferring Single Files and Folders With <code>scp</code></a></li>
<li><a href="#whats-in-a">What’s in a <code>/</code>?</a></li>
<li><a href="#archiving-files">Archiving Files</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="17-resources.html">6. Using resources effectively</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="18-responsibility.html">7. Using shared resources responsibly</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="aio.html">See all in one page</a>
            

            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">
            
            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="14-modules.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="17-resources.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="14-modules.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Accessing software
        </a>
        <a class="chapter-link float-end" href="17-resources.html" rel="next">
          Next: Using resources... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Transferring files with remote computers</h1>
        <p>Last updated on 2024-06-11 |
        
        <a href="https://github.com/EPCCed/2024-06-20-hpc-intro-shampton/edit/main/episodes/15-transferring-files.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
        
        
        
        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How do I transfer files to (and from) the cluster?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>
<code>wget</code> and <code>curl -O</code> download a file from the
internet.</li>
<li>
<code>scp</code> transfers files to and from your computer.</li>
</ul></div>
</div>
</div>
</div>
</div>
<div id="required-files" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<div id="required-files" class="callout-inner">
<h3 class="callout-title">Required Files<a class="anchor" aria-label="anchor" href="#required-files"></a>
</h3>
<div class="callout-content">
<p>The program used in this example can be retrieved using wget or a
browser and copied to the remote.</p>
<p><strong>Using wget</strong>:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">userid@ln03:~</span><span class="op">&gt;</span> wget https://epcced.github.io/2024-06-20-hpc-intro-shampton/files/hpc-intro-data.tar.gz</span></code></pre>
</div>
<p><strong>Using a web browser</strong>:</p>
<p><a href="https://epcced.github.io/2024-06-20-hpc-intro-shampton/files/hpc-intro-data.tar.gz" class="external-link">https://epcced.github.io/2024-06-20-hpc-intro-shampton/files/hpc-intro-data.tar.gz</a></p>
</div>
</div>
</div>
<p>Computing with a remote computer offers very limited use if we cannot
get files to or from the cluster. There are several options for
transferring data between computing resources, from command line options
to GUI programs, which we will cover here.</p>
<section id="download-files-from-the-internet"><h2 class="section-heading">Download Files From the Internet<a class="anchor" aria-label="anchor" href="#download-files-from-the-internet"></a>
</h2>
<hr class="half-width"><p>One of the most straightforward ways to download files is to use
either <code>curl</code> or <code>wget</code>, one of these is usually
installed in most Linux shells, on Mac OS terminal and in GitBash. Any
file that can be downloaded in your web browser through a direct link
can be downloaded using <code>curl -O</code> or <code>wget</code>. This
is a quick way to download datasets or source code.</p>
<p>The syntax for these commands is:
<code>curl -O https://some/link/to/a/file</code> and
<code>wget https://some/link/to/a/file</code>. Try it out by downloading
some material we’ll use later on, from a terminal on your local
machine.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ curl <span class="at">-O</span> /files/hpc-intro-data.tar.gz</span></code></pre>
</div>
<p>or</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ wget https://epcced.github.io/2024-06-20-hpc-intro-shampton/files/hpc-intro-data.tar.gz</span></code></pre>
</div>
<div id="tar.gz" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="tar.gz" class="callout-inner">
<h3 class="callout-title">
<code>tar.gz</code>?<a class="anchor" aria-label="anchor" href="#tar.gz"></a>
</h3>
<div class="callout-content">
<p>This is an archive file format, just like <code>.zip</code>, commonly
used and supported by default on Linux, which is the operating system
the majority of HPC cluster machines run. You may also see the extension
<code>.tgz</code>, which is exactly the same. We’ll talk more about
“tarballs,” since “tar-dot-g-z” is a mouthful, later on.</p>
</div>
</div>
</div>
</section><section id="transferring-single-files-and-folders-with-scp"><h2 class="section-heading">Transferring Single Files and Folders With <code>scp</code><a class="anchor" aria-label="anchor" href="#transferring-single-files-and-folders-with-scp"></a>
</h2>
<hr class="half-width"><p>To copy a single file to or from the cluster, we can use
<code>scp</code> (“secure copy”). The syntax can be a little complex for
new users, but we’ll break it down.</p>
<p>To <em>upload to</em> another computer:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ scp path/to/local/file.txt userid@login.archer2.ac.uk:/path/on/ARCHER2</span></code></pre>
</div>
<p>To <em>download from</em> another computer:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ scp userid@login.archer2.ac.uk:/path/on/ARCHER2/file.txt path/to/local/</span></code></pre>
</div>
<p>Note that everything after the <code>:</code> is relative to our home
directory on the remote computer. We can leave it at that if we don’t
care where the file goes.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ scp local-file.txt userid@login.archer2.ac.uk:</span></code></pre>
</div>
<div id="upload-a-file" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="upload-a-file" class="callout-inner">
<h3 class="callout-title">Upload a File<a class="anchor" aria-label="anchor" href="#upload-a-file"></a>
</h3>
<div class="callout-content">
<p>Copy the file you just downloaded from the Internet to your home
directory on ARCHER2.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">Show me the solution</h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ scp hpc-intro-data.tar.gz userid@login.archer2.ac.uk:~/</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="why-not-download-on-archer2-directly" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="why-not-download-on-archer2-directly" class="callout-inner">
<h3 class="callout-title">Why Not Download on ARCHER2 Directly?<a class="anchor" aria-label="anchor" href="#why-not-download-on-archer2-directly"></a>
</h3>
<div class="callout-content">
<p>Some computer clusters are behind firewalls set to only allow
transfers initiated from the <em>outside</em>. This means that the
<code>curl</code> command will fail, as an address outside the firewall
is unreachable from the inside. To get around this, run the
<code>curl</code> or <code>wget</code> command from your local machine
to download the file, then use the <code>scp</code> command (just below
here) to upload it to the cluster.</p>
</div>
</div>
</div>
<div id="can-you-download-from-the-server-directly" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="can-you-download-from-the-server-directly" class="callout-inner">
<h3 class="callout-title">Can you download from the server
directly?<a class="anchor" aria-label="anchor" href="#can-you-download-from-the-server-directly"></a>
</h3>
<div class="callout-content">
<p>Try downloading the file directly using <code>curl</code> or
<code>wget</code>. Do the commands understand file locations on your
local machine over SSH? Note that it may well fail, and that’s OK!</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">Show me the solution</h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>Using <code>curl</code> or <code>wget</code> commands like the
following:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ ssh userid@login.archer2.ac.uk</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="ex">userid@ln03:~</span><span class="op">&gt;</span> curl <span class="at">-O</span> https://epcced.github.io/2024-06-20-hpc-intro-shampton/files/hpc-intro-data.tar.gz</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="ex">or</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="ex">userid@ln03:~</span><span class="op">&gt;</span> wget https://epcced.github.io/2024-06-20-hpc-intro-shampton/files/hpc-intro-data.tar.gz</span></code></pre>
</div>
<p>Did it work? If not, what does the terminal output tell you about
what happened?</p>
</div>
</div>
</div>
</div>
<p>To copy a whole directory, we add the <code>-r</code> flag, for
“<strong>r</strong>ecursive”: copy the item specified, and every item
below it, and every item below those… until it reaches the bottom of the
directory tree rooted at the folder name you provided.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ scp <span class="at">-r</span> some-local-folder userid@login.archer2.ac.uk:target-directory/</span></code></pre>
</div>
<div id="caution" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="caution" class="callout-inner">
<h3 class="callout-title">Caution<a class="anchor" aria-label="anchor" href="#caution"></a>
</h3>
<div class="callout-content">
<p>For a large directory — either in size or number of files — copying
with <code>-r</code> can take a long time to complete.</p>
</div>
</div>
</div>
</section><section id="whats-in-a"><h2 class="section-heading">What’s in a <code>/</code>?<a class="anchor" aria-label="anchor" href="#whats-in-a"></a>
</h2>
<hr class="half-width"><p>When using <code>scp</code>, you may have noticed that a
<code>:</code> <em>always</em> follows the remote computer name;
sometimes a <code>/</code> follows that, and sometimes not, and
sometimes there’s a final <code>/</code>. On Linux computers,
<code>/</code> is the <strong><em>root</em></strong> directory, the
location where the entire filesystem (and others attached to it) is
anchored. A path starting with a <code>/</code> is called
<em>absolute</em>, since there can be nothing above the root
<code>/</code>. A path that does not start with <code>/</code> is called
<em>relative</em>, since it is not anchored to the root.</p>
<p>If you want to upload a file to a location inside your home directory
— which is often the case — then you don’t need a leading
<code>/</code>. After the <code>:</code>, start writing the sequence of
folders that lead to the final storage location for the file or, as
mentioned above, provide nothing if your home directory <em>is</em> the
destination.</p>
<p>A trailing slash on the target directory is optional, and has no
effect for <code>scp -r</code>, but is important in other commands, like
<code>rsync</code>.</p>
<div id="a-note-on-rsync" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="a-note-on-rsync" class="callout-inner">
<h3 class="callout-title">A Note on<code>rsync</code><a class="anchor" aria-label="anchor" href="#a-note-on-rsync"></a>
</h3>
<div class="callout-content">
<p>As you gain experience with transferring files, you may find the
<code>scp</code> command limiting. The <a href="https://rsync.samba.org/" class="external-link">rsync</a> utility provides advanced
features for file transfer and is typically faster compared to both
<code>scp</code> and <code>sftp</code> (see below). It is especially
useful for transferring large and/or many files and creating synced
backup folders. The syntax is similar to <code>scp</code>. To transfer
<em>to</em> another computer with commonly used options:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ rsync <span class="at">-avzP</span> path/to/local/file.txt userid@login.archer2.ac.uk:directory/path/on/ARCHER2/</span></code></pre>
</div>
<p>The <code>a</code> (archive) option preserves file timestamps and
permissions among other things; the <code>v</code> (verbose) option
gives verbose output to help monitor the transfer; the <code>z</code>
(compression) option compresses the file during transit to reduce size
and transfer time; and the <code>P</code> (partial/progress) option
preserves partially transferred files in case of an interruption and
also displays the progress of the transfer.</p>
<p>To recursively copy a directory, we can use the same options:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ rsync <span class="at">-avzP</span> path/to/local/dir userid@login.archer2.ac.uk:directory/path/on/ARCHER2/</span></code></pre>
</div>
<p>As written, this will place the local directory and its contents
under the specified directory on the remote system. If the trailing
slash is omitted on the destination, a new directory corresponding to
the transferred directory (‘dir’ in the example) will not be created,
and the contents of the source directory will be copied directly into
the destination directory.</p>
<p>The <code>a</code> (archive) option implies recursion.</p>
<p>To download a file, we simply change the source and destination:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ rsync <span class="at">-avzP</span> userid@login.archer2.ac.uk:path/on/ARCHER2/file.txt path/to/local/</span></code></pre>
</div>
</div>
</div>
</div>
<div id="a-note-on-ports" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="a-note-on-ports" class="callout-inner">
<h3 class="callout-title">A Note on Ports<a class="anchor" aria-label="anchor" href="#a-note-on-ports"></a>
</h3>
<div class="callout-content">
<p>All file transfers using the above methods use SSH to encrypt data
sent through the network. So, if you can connect via SSH, you will be
able to transfer files. By default, SSH uses network port 22. If a
custom SSH port is in use, you will have to specify it using the
appropriate flag, often <code>-p</code>, <code>-P</code>, or
<code>--port</code>. Check <code>--help</code> or the <code>man</code>
page if you’re unsure.</p>
</div>
</div>
</div>
<div id="rsync-port" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="rsync-port" class="callout-inner">
<h3 class="callout-title">Rsync Port<a class="anchor" aria-label="anchor" href="#rsync-port"></a>
</h3>
<div class="callout-content">
<p>Say we have to connect <code>rsync</code> through port 768 instead of
22. How would we modify this command?</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ rsync test.txt userid@login.archer2.ac.uk:</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">Show me the solution</h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ rsync <span class="at">--help</span> <span class="kw">|</span> <span class="fu">grep</span> port</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>     <span class="ex">--port=PORT</span>             specify double-colon alternate port number</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="ex">See</span> https://rsync.samba.org/ for updates, bug reports, and answers</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ rsync <span class="at">--port</span><span class="op">=</span>768 test.txt userid@login.archer2.ac.uk:</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section id="archiving-files"><h2 class="section-heading">Archiving Files<a class="anchor" aria-label="anchor" href="#archiving-files"></a>
</h2>
<hr class="half-width"><p>One of the biggest challenges we often face when transferring data
between remote HPC systems is that of large numbers of files. There is
an overhead to transferring each individual file and when we are
transferring large numbers of files these overheads combine to slow down
our transfers to a large degree.</p>
<p>The solution to this problem is to <em>archive</em> multiple files
into smaller numbers of larger files before we transfer the data to
improve our transfer efficiency. Sometimes we will combine archiving
with <em>compression</em> to reduce the amount of data we have to
transfer and so speed up the transfer.</p>
<p>The most common archiving command you will use on a (Linux) HPC
cluster is <code>tar</code>. <code>tar</code> can be used to combine
files into a single archive file and, optionally, compress it.</p>
<p>Let’s start with the file we downloaded from the lesson site,
<code>hpc-lesson-data.tar.gz</code>. The “gz” part stands for
<em>gzip</em>, which is a compression library. Reading this file name,
it appears somebody took a folder named “hpc-lesson-data,” wrapped up
all its contents in a single file with <code>tar</code>, then compressed
that archive with <code>gzip</code> to save space. Let’s check using
<code>tar</code> with the <code>-t</code> flag, which prints the
“<strong>t</strong>able of contents” without unpacking the file,
specified by <code>-f &lt;filename&gt;</code>, on the remote computer.
Note that you can concatenate the two flags, instead of writing
<code>-t -f</code> separately.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ ssh userid@login.archer2.ac.uk</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="ex">userid@ln03:~</span><span class="op">&gt;</span> tar <span class="at">-tf</span> hpc-lesson-data.tar.gz</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="ex">hpc-intro-data/</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01971Z.txt</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/goostats</span></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/goodiff</span></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE02040B.txt</span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01978B.txt</span></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE02043B.txt</span></span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE02018B.txt</span></span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01843A.txt</span></span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01978A.txt</span></span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01751B.txt</span></span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01736A.txt</span></span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01812A.txt</span></span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE02043A.txt</span></span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01729B.txt</span></span>
<span id="cb15-19"><a href="#cb15-19" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE02040A.txt</span></span>
<span id="cb15-20"><a href="#cb15-20" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01843B.txt</span></span>
<span id="cb15-21"><a href="#cb15-21" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01751A.txt</span></span>
<span id="cb15-22"><a href="#cb15-22" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01729A.txt</span></span>
<span id="cb15-23"><a href="#cb15-23" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE02040Z.txt</span></span></code></pre>
</div>
<p>This shows a folder containing another folder, which contains a bunch
of files. If you’ve taken The Carpentries’ Shell lesson recently, these
might look familiar. Let’s see about that compression, using
<code>du</code> for “<strong>d</strong>isk <strong>u</strong>sage”.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">userid@ln03:~</span><span class="op">&gt;</span> du <span class="at">-sh</span> hpc-lesson-data.tar.gz</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="ex">36K</span>     hpc-intro-data.tar.gz</span></code></pre>
</div>
<div id="files-occupy-at-least-one-block" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="files-occupy-at-least-one-block" class="callout-inner">
<h3 class="callout-title">Files Occupy at Least One “Block”<a class="anchor" aria-label="anchor" href="#files-occupy-at-least-one-block"></a>
</h3>
<div class="callout-content">
<p>If the filesystem block size is larger than 36 KB, you’ll see a
larger number: files cannot be smaller than one block.</p>
</div>
</div>
</div>
<p>Now let’s unpack the archive. We’ll run <code>tar</code> with a few
common flags:</p>
<ul><li>
<code>-x</code> to e<strong>x</strong>tract the archive</li>
<li>
<code>-v</code> for <strong>v</strong>erbose output</li>
<li>
<code>-z</code> for g<strong>z</strong>ip compression</li>
<li>
<code>-f</code> for the file to be unpacked</li>
</ul><p>When it’s done, check the directory size with <code>du</code> and
compare.</p>
<div id="extract-the-archive" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="extract-the-archive" class="callout-inner">
<h3 class="callout-title">Extract the Archive<a class="anchor" aria-label="anchor" href="#extract-the-archive"></a>
</h3>
<div class="callout-content">
<p>Using the four flags above, unpack the lesson data using
<code>tar</code>. Then, check the size of the whole unpacked directory
using <code>du</code>. Hint: <code>tar</code> lets you concatenate
flags.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">Commands</h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">userid@ln03:~</span><span class="op">&gt;</span> tar <span class="at">-xvzf</span> hpc-lesson-data.tar.gz</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01971Z.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">goostats</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">goodiff</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE02040B.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01978B.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE02043B.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE02018B.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01843A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01978A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01751B.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01736A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01812A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE02043A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01729B.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE02040A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01843B.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01751A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01729A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE02040Z.txt</span></span></code></pre>
</div>
<p>Note that we did not type out <code>-x -v -z -f</code>, thanks to the
flag concatenation, though the command works identically either way.</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">userid@ln03:~</span><span class="op">&gt;</span> du <span class="at">-sh</span> hpc-lesson-data</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="ex">144K</span>    hpc-intro-data</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="was-the-data-compressed" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="was-the-data-compressed" class="callout-inner">
<h3 class="callout-title">Was the Data Compressed?<a class="anchor" aria-label="anchor" href="#was-the-data-compressed"></a>
</h3>
<div class="callout-content">
<p>Text files compress nicely: the “tarball” is one-quarter the total
size of the raw data!</p>
</div>
</div>
</div>
<p>If you want to reverse the process — compressing raw data instead of
extracting it — set a <code>c</code> flag instead of <code>x</code>, set
the archive filename, then provide a directory to compress:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$ tar <span class="at">-cvzf</span> compressed_data.tar.gz hpc-intro-data</span></code></pre>
</div>
<div id="working-with-windows" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="working-with-windows" class="callout-inner">
<h3 class="callout-title">Working with Windows<a class="anchor" aria-label="anchor" href="#working-with-windows"></a>
</h3>
<div class="callout-content">
<p>When you transfer text files to from a Windows system to a Unix
system (Mac, Linux, BSD, Solaris, etc.) this can cause problems. Windows
encodes its files slightly different than Unix, and adds an extra
character to every line. On a Unix system, every line in a file ends
with a <code>\n</code> (newline). On Windows, every line in a file ends
with a <code>\r\n</code> (carriage return + newline). This causes
problems sometimes. Though most modern programming languages and
software handles this correctly, in some rare instances, you may run
into an issue. The solution is to convert a file from Windows to Unix
encoding with the <code>dos2unix</code> command. You can identify if a
file has Windows line endings with <code>cat -A filename</code>. A file
with Windows line endings will have <code>^M$</code> at the end of every
line. A file with Unix line endings will have <code>$</code> at the end
of a line. To convert the file, just run <code>dos2unix filename</code>.
(Conversely, to convert back to Windows format, you can run
<code>unix2dos filename</code>.)</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul><li>“<code>wget</code> and <code>curl -O</code> download a file from the
internet.”</li>
<li>“<code>scp</code> transfers files to and from your computer.”</li>
</ul></div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 

use like [gitbash][gitbash]
 -->
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="14-modules.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="17-resources.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="14-modules.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Accessing software
        </a>
        <a class="chapter-link float-end" href="17-resources.html" rel="next">
          Next: Using resources... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/EPCCed/2024-06-20-hpc-intro-shampton/edit/main/episodes/15-transferring-files.Rmd" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://github.com/EPCCed/2024-06-20-hpc-intro-shampton/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/EPCCed/2024-06-20-hpc-intro-shampton/" class="external-link">Source</a></p>
				<p><a href="https://github.com/EPCCed/2024-06-20-hpc-intro-shampton/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:support@archer2.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.4" class="external-link">sandpaper (0.16.4)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.5" class="external-link">pegboard (0.7.5)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.2" class="external-link">varnish (1.0.2)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://EPCCed.github.io/2024-06-20-hpc-intro-shampton/15-transferring-files.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries, HPC, EPCC",
  "name": "Transferring files with remote computers",
  "creativeWorkStatus": "active",
  "url": "https://EPCCed.github.io/2024-06-20-hpc-intro-shampton/15-transferring-files.html",
  "identifier": "https://EPCCed.github.io/2024-06-20-hpc-intro-shampton/15-transferring-files.html",
  "dateCreated": "2024-06-20",
  "dateModified": "2024-06-11",
  "datePublished": "2024-06-11"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

